.dream-overlay {
  position: absolute;
  inset: 0;
  z-index: 3;
  pointer-events: none;
  transition: opacity 0.3s ease, filter 0.3s ease, transform 0.3s ease, background 0.3s ease;
}

.dream-overlay.dream-neblina {
  opacity: 0.9;
  filter: blur(8px) brightness(1.1) contrast(0.9);
  mix-blend-mode: screen;
  background: radial-gradient(circle at 50% 30%, rgba(255, 255, 255, 0.25), rgba(0, 0, 0, 0.4));
  backdrop-filter: blur(12px);
}

.dream-overlay.dream-sombras {
  opacity: 0.35;
  filter: contrast(1.4) brightness(0.75) saturate(0.9);
  mix-blend-mode: multiply;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='4' stitchTiles='stitch'/></filter><rect width='160' height='160' filter='url(%23n)' opacity='0.9'/></svg>");
  animation: grainShift 1.8s steps(6) infinite;
}

.dream-overlay.dream-respiracion {
  opacity: 0.45;
  filter: brightness(1.2) saturate(1.1);
  mix-blend-mode: soft-light;
  background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgba(255, 255, 220, 0.25), rgba(0, 0, 0, 0.6));
  animation: komorebiPulse 6s ease-in-out infinite;
}

.dream-overlay.dream-umbral {
  opacity: 0.9;
  filter: blur(4px) contrast(1.2) brightness(0.85) saturate(0.8);
  transform: scale(1.03);
  mix-blend-mode: multiply;
  background:
    radial-gradient(
      circle at 50% 50%,
      rgba(0, 0, 0, 0) 30%,
      rgba(0, 0, 0, 0.35) 70%,
      rgba(0, 0, 0, 0.7) 100%
    );
  animation: abyssDrift 14s ease-in-out infinite;
}

@keyframes komorebiPulse {
  0% {
    opacity: 0.32;
    transform: scale(1);
    filter: brightness(1.05) saturate(1.05);
  }
  50% {
    opacity: 0.58;
    transform: scale(1.04) translate3d(-1%, -1%, 0);
    filter: brightness(1.2) saturate(1.15);
  }
  100% {
    opacity: 0.32;
    transform: scale(1);
    filter: brightness(1.05) saturate(1.05);
  }
}

@keyframes abyssDrift {
  0% {
    transform: scale(1.03) translate3d(0, 0, 0);
  }
  50% {
    transform: scale(1.06) translate3d(2%, -2%, 0);
  }
  100% {
    transform: scale(1.03) translate3d(0, 0, 0);
  }
}
