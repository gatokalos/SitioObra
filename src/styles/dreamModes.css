.dream-overlay {
  position: absolute;
  inset: 0;
  z-index: 3;
  pointer-events: none;
  transition: opacity 0.3s ease, filter 0.3s ease, transform 0.3s ease, background 0.3s ease;
}

.dream-overlay.dream-neblina {
  opacity: 0.85;
  filter: blur(10px) brightness(1.15) contrast(0.92);
  mix-blend-mode: screen;
  background: radial-gradient(circle at 48% 34%, rgba(255, 255, 255, 0.28), rgba(0, 0, 0, 0.35));
  backdrop-filter: blur(14px);
}

.dream-overlay.dream-lucid {
  opacity: 0.06;
  filter: none;
  mix-blend-mode: screen;
  background: radial-gradient(
    circle at var(--x, 60%) var(--y, 36%),
    rgba(255, 255, 255, 0.14),
    transparent 55%
  );
  animation: lucidGlint 14s ease-in-out infinite;
}

@keyframes lucidGlint {
  0% {
    opacity: 0;
    transform: scale(1);
  }
  20% {
    opacity: 0.24;
    transform: scale(1.02);
  }
  40% {
    opacity: 0.05;
    transform: scale(1);
  }
  65% {
    opacity: 0.18;
    transform: scale(1.04);
  }
  100% {
    opacity: 0;
    transform: scale(1);
  }
}

.dream-overlay.dream-umbral {
  opacity: 0.78;
  filter: blur(6px) contrast(1.28) brightness(0.82) saturate(0.8);
  transform: scale(1.03);
  mix-blend-mode: multiply;
  background:
    radial-gradient(
      circle at 50% 52%,
      rgba(0, 0, 0, 0.1) 32%,
      rgba(0, 0, 0, 0.45) 72%,
      rgba(0, 0, 0, 0.8) 100%
    );
  animation: abyssDrift 14s ease-in-out infinite;
}

@keyframes komorebiPulse {
  0% {
    opacity: 0.32;
    transform: scale(1);
    filter: brightness(1.05) saturate(1.05);
  }
  50% {
    opacity: 0.58;
    transform: scale(1.04) translate3d(-1%, -1%, 0);
    filter: brightness(1.2) saturate(1.15);
  }
  100% {
    opacity: 0.32;
    transform: scale(1);
    filter: brightness(1.05) saturate(1.05);
  }
}

@keyframes abyssDrift {
  0% {
    transform: scale(1.03) translate3d(0, 0, 0);
  }
  50% {
    transform: scale(1.06) translate3d(2%, -2%, 0);
  }
  100% {
    transform: scale(1.03) translate3d(0, 0, 0);
  }
}
